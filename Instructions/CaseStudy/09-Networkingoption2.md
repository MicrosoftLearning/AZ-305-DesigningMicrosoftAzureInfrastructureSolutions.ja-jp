---
casestudy:
  title: ネットワーク ソリューションを設計する - BI エンタープライズ アプリケーション
  module: Network infrastructure solutions
---
# ネットワーク インフラストラクチャ ソリューションを設計する  

## 必要条件

Tailwind Traders Enterprise IT チームは、会社のワークロードの一部を Azure に移行する戦略を定義する準備の際に、必要なネットワーク コンポーネントを特定し、それらをサポートするために必要なネットワーク インフラストラクチャを設計する必要があります。 Tailwind Traders は、その運用のグローバル スコープを考慮して、アプリケーションをホストするために複数の Azure リージョンを使います。 これらのアプリケーションのほとんどは、インフラストラクチャとデータ サービスに依存しており、Azure に配置されます。 Azure に移行される内部アプリケーションは、Tailwind Traders のユーザーが引き続きアクセスできる必要があります。 Azure に移行されるインターネット向けのアプリケーションは、外部のお客様が引き続きアクセスできる必要があります。 

最初のネットワーク設計をまとめるために、Tailwind Traders Enterprise IT チームは 2 つの主要なアプリケーションを選択しました。Azure への移行が予想されるワークロードの最も一般的なカテゴリを表しています。  

## 設計 - BI エンタープライズ アプリケーション 

![BI エンタープライズ アプリケーション アーキテクチャ](media/compute.png)

-   IIS Web サーバーを実行するフロントエンド層、.NET Framework ベースのビジネス ロジックをホストする中間層、および SQL Server Always On 可用性グループ データベースとして実装されたバックエンド層を備えた内部の Windows ベースの 3 層ビジネス インテリジェンス (BI) エンタープライズ アプリケーション。 

-   このアプリケーションはミッション クリティカルとして分類され、これには可用性 SLA が 99.99% の高可用性プロビジョニングとディザスター リカバリー プロビジョニング (10 分の RPO と 2 時間の RTO) が必要です。

-   Azure に移行された内部アプリへの接続を提供するには、Tailwind Traders でオンプレミスのデータセンターからハイブリッド接続を確立する必要があります。 Enterprise IT グループは、シアトルの主要データセンターの ExpressRoute 回線を使用してこのような接続を実装することを既に確立していますが、この時点で、回線が使用できなくなった場合のフェールオーバー ソリューションは明確になっていません。 Tailwind Traders CFO は、別の冗長 ExpressRoute 回線の支払いを回避したいと考えています。 

- Azure に移行された内部アプリへのオンプレミス接続に適用される考慮事項が他にもあります。 Tailwind Traders Azure 環境は複数のサブスクリプションで構成され、複数の仮想ネットワークで構成されるのが効果的であるため、コストを最小限に抑えるには、コア ネットワーク機能を実装するために必要な Azure リソースの数を最小限に抑えることが重要です。 このような機能には、オンプレミスの場所へのハイブリッド接続とトラフィック フィルター処理が含まれます。 なお、この場合は情報セキュリティとリスクの要件に沿ってコストを最小限に抑える必要があります。この要件では、オンプレミスの場所と Azure 仮想ネットワーク間のすべてのトラフィックは単一の仮想ネットワークを経由する必要があります。それによってハイブリッド接続とトラフィック フィルタリングを担当するコンポーネントがホストされます。 

-   Tailwind Traders の情報セキュリティ チームとリスク チームによって定義されている要件に従って、同じアプリケーションに含まれるさまざまなレベルの Azure VM 間のすべての通信で、アプリケーションの実行と保守に必要なポートのみを許可する必要があります。 ただし、IP アドレス空間の制限により、各層に専用サブネットを割り当てられない場合があります。 Enterprise IT グループは、IP アドレスまたは IP アドレス範囲を直接参照する必要のないトラフィック フィルタリングの送信元と宛先を構成するための最適な方法を特定する必要があります。


## タスク - BI エンタープライズ アプリケーション 

1. BI アプリケーション用の 3 層ネットワーク ソリューションを設計します。 設計には、Azure ExpressRoute、VPN Gateway、Application Gateways、Azure Firewall、Azure Load Balancer が含まれる場合があります。 ネットワーク コンポーネントを仮想ネットワークにグループ化し、ネットワーク セキュリティ グループを考慮する必要があります。 ソリューションの各コンポーネントを選択した理由を説明する準備をしてください。 

2. コンピューティング ケース スタディからのアーキテクト ソリューションに基づいて、これはネットワーク設計にどのように影響しますか? 最新化されたアプリケーションへのアクセスをセキュリティで保護するために、追加のネットワーク リソースが必要ですか? 元のネットワーク設計に実装された推奨ソリューションのいくつかはもう必要ありませんか? 

3. ストレージ (リレーショナル) のケース スタディに基づいて、ストレージ アカウントへのアクセスを保護し、選択したユーザーのみがストレージ アカウントに確実にアクセスできるようにするには、ネットワーク設計をどのように更新しますか?

4. SQL バックエンドの最新化に基づいて、データベースへの実用的なアクセスを有効にして、フロント エンドのコードベース内にハードコードされたシークレットが含まれないようにするにはどうすればよいですか?

高品質で安定した効率的なクラウド アーキテクチャを生み出すには、ウェル アーキテクト フレームワークの要素をどのように組み込みますか?
